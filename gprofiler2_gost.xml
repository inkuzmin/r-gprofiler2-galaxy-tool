<?xml version="1.0"?>
<tool id="gprofiler2_gost" name="g:Profiler / g:GOSt" version="0.1.0">
    <description>functional enrichment analysis of gene lists</description>
    <requirements>
        <requirement type="package" version="3.5.3">r-base</requirement>
        <requirement type="package" version="0.1.6">r-gprofiler2</requirement>
        <requirement type="package" version="1.20.3">r-getopt</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        Rscript '$__tool_directory__/gprofiler2_gost_tool.R'  --input $input --output $output --plot $plot
    ]]></command>
    <inputs>
        <param type="data" name="input" format="tabular" label="Input is whitespace-separated list of genes" />

        <param type="text" name="organism" label="Organism"
            optional="true"
            help="Organism IDs are constructed by concatenating the first letter of the generic name and the specific name (https://en.wikipedia.org/wiki/Binomial_nomenclature). Example: human -- Homo sapiens -- 'hsapiens', mouse -- Mus musculus -- 'mmusculus'. Check https://biit.cs.ut.ee/gprofiler/page/organism-list for the complete list of supported organism IDs."
            value="hsapiens"
            />

        <param type="boolean" name="ordered_query" label="Ordered query"
            optional="true"
            help="When input gene lists are ranked this option may be used to get GSEA style p-values."
            value="false" />

        <param type="boolean" name="significant" label="Significanty"
            optional="true"
            help="Whether all or only statistically significant results should be returned."
            value="false" />

        <param type="boolean" name="exclude_iea" label="Exclude IEA"
            optional="true"
            help="Exclude GO electronic annotations (IEA)."
            value="false" />

        <param type="boolean" name="measure_underrepresentation" label="Measure underrepresentation"
            optional="true"
            value="false" />

        <param type="boolean" name="evcodes" label="Evidence codes"
            optional="true"
            help="include evidence codes to the results. Note that this can decrease performance
            and make the query slower. In addition, a column ’intersection’ is created that
            contains the gene id-s that intersect between the query and term. This parameter
            does not work if ’multi_query’ is set to TRUE."
            value="false" />

        <param type="float" name="user_threshold" label="User threshold"
            optional="true"
            help="Custom p-value threshold, results with a larger p-value are excluded."
            value="0.05" />

    </inputs>
    <outputs>
         <data label="${tool.name} on ${on_string}: table"
            name="output" format="tabular" />
         <data label="${tool.name} on ${on_string}: image"
            name="plot" format="png" />
    </outputs>
    <help><![CDATA[
        g:GOSt performs functional enrichment analysis and visualization of gene lists
    ]]></help>
    <citations>
        <citation type="doi">doi:10.1093/nar/gkz369</citation>
    </citations>
    <edam_topics>
        <edam_topic>topic_0091</edam_topic>
    </edam_topics>
    <edam_operations>
        <edam_operation>operation_2436</edam_operation>
    </edam_operations>
</tool>